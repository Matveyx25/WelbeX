{"ast":null,"code":"import { tablesAPI } from \"../api\"; // consts\n\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst SET_TABLES = 'SET_TABLES';\nconst SET_PAGES = \"SET_PAGES\";\nlet initialState = {\n  tables: [],\n  isFetching: false,\n  pages: null\n}; // reducers\n\nexport const tablesReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_TABLES:\n      return { ...state,\n        tables: action.tables\n      };\n\n    case SET_PAGES:\n      return { ...state,\n        pages: action.pages\n      };\n\n    case TOGGLE_IS_FETCHING:\n      return { ...state,\n        isFetching: action.isFetching\n      };\n\n    default:\n      return state;\n  }\n}; // dispatches\n\nconst setTables = tables => ({\n  type: SET_TABLES,\n  tables\n});\n\nconst setPages = pages => ({\n  type: SET_PAGES,\n  pages\n});\n\nconst toggleIsFetching = isFetching => ({\n  type: TOGGLE_IS_FETCHING,\n  isFetching\n});\n\nexport const requestTables = (page, column) => async dispatch => {\n  dispatch(toggleIsFetching(true));\n  const response = await tablesAPI.getTables(page);\n\n  if (response.status === 200) {\n    dispatch(setTables(response.data.data));\n    dispatch(setPages(response.data.pages));\n    dispatch(toggleIsFetching(false));\n  } else {\n    console.log(response);\n    dispatch(toggleIsFetching(false));\n  }\n};","map":{"version":3,"names":["tablesAPI","TOGGLE_IS_FETCHING","SET_TABLES","SET_PAGES","initialState","tables","isFetching","pages","tablesReducer","state","action","type","setTables","setPages","toggleIsFetching","requestTables","page","column","dispatch","response","getTables","status","data","console","log"],"sources":["/Users/matveystepanov/Documents/WelbeX/front/src/redux/tables-reducers.js"],"sourcesContent":["import { tablesAPI } from \"../api\"\n\n// consts\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\nconst SET_TABLES = 'SET_TABLES'\nconst SET_PAGES = \"SET_PAGES\"\n\nlet initialState = {\n    tables: [],\n    isFetching: false,\n    pages: null\n}\n\n// reducers\nexport const tablesReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_TABLES: \n            return {...state, tables: action.tables}\n        case SET_PAGES: \n            return {...state, pages: action.pages}\n        case TOGGLE_IS_FETCHING: \n            return {...state, isFetching: action.isFetching}\n        default: \n            return state\n    }\n}\n\n// dispatches\nconst setTables = (tables) => ({ type: SET_TABLES, tables })\nconst setPages = (pages) => ({ type: SET_PAGES, pages })\nconst toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\n\nexport const requestTables = (page, column) => async (dispatch) => {\n    dispatch(toggleIsFetching(true))\n    const response = await tablesAPI.getTables(page)\n    if(response.status === 200){\n        dispatch(setTables(response.data.data))\n        dispatch(setPages(response.data.pages))\n        dispatch(toggleIsFetching(false))\n    }else{\n        console.log(response);\n        dispatch(toggleIsFetching(false))\n    }\n}"],"mappings":"AAAA,SAASA,SAAT,QAA0B,QAA1B,C,CAEA;;AACA,MAAMC,kBAAkB,GAAG,oBAA3B;AACA,MAAMC,UAAU,GAAG,YAAnB;AACA,MAAMC,SAAS,GAAG,WAAlB;AAEA,IAAIC,YAAY,GAAG;EACfC,MAAM,EAAE,EADO;EAEfC,UAAU,EAAE,KAFG;EAGfC,KAAK,EAAE;AAHQ,CAAnB,C,CAMA;;AACA,OAAO,MAAMC,aAAa,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBL,YAAyB;EAAA,IAAXM,MAAW;;EAC3D,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKT,UAAL;MACI,OAAO,EAAC,GAAGO,KAAJ;QAAWJ,MAAM,EAAEK,MAAM,CAACL;MAA1B,CAAP;;IACJ,KAAKF,SAAL;MACI,OAAO,EAAC,GAAGM,KAAJ;QAAWF,KAAK,EAAEG,MAAM,CAACH;MAAzB,CAAP;;IACJ,KAAKN,kBAAL;MACI,OAAO,EAAC,GAAGQ,KAAJ;QAAWH,UAAU,EAAEI,MAAM,CAACJ;MAA9B,CAAP;;IACJ;MACI,OAAOG,KAAP;EARR;AAUH,CAXM,C,CAaP;;AACA,MAAMG,SAAS,GAAIP,MAAD,KAAa;EAAEM,IAAI,EAAET,UAAR;EAAoBG;AAApB,CAAb,CAAlB;;AACA,MAAMQ,QAAQ,GAAIN,KAAD,KAAY;EAAEI,IAAI,EAAER,SAAR;EAAmBI;AAAnB,CAAZ,CAAjB;;AACA,MAAMO,gBAAgB,GAAIR,UAAD,KAAiB;EAAEK,IAAI,EAAEV,kBAAR;EAA4BK;AAA5B,CAAjB,CAAzB;;AAEA,OAAO,MAAMS,aAAa,GAAG,CAACC,IAAD,EAAOC,MAAP,KAAkB,MAAOC,QAAP,IAAoB;EAC/DA,QAAQ,CAACJ,gBAAgB,CAAC,IAAD,CAAjB,CAAR;EACA,MAAMK,QAAQ,GAAG,MAAMnB,SAAS,CAACoB,SAAV,CAAoBJ,IAApB,CAAvB;;EACA,IAAGG,QAAQ,CAACE,MAAT,KAAoB,GAAvB,EAA2B;IACvBH,QAAQ,CAACN,SAAS,CAACO,QAAQ,CAACG,IAAT,CAAcA,IAAf,CAAV,CAAR;IACAJ,QAAQ,CAACL,QAAQ,CAACM,QAAQ,CAACG,IAAT,CAAcf,KAAf,CAAT,CAAR;IACAW,QAAQ,CAACJ,gBAAgB,CAAC,KAAD,CAAjB,CAAR;EACH,CAJD,MAIK;IACDS,OAAO,CAACC,GAAR,CAAYL,QAAZ;IACAD,QAAQ,CAACJ,gBAAgB,CAAC,KAAD,CAAjB,CAAR;EACH;AACJ,CAXM"},"metadata":{},"sourceType":"module"}